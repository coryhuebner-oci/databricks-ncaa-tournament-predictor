# This is a Databricks asset bundle definition for databricks-ncaa-tournament-predictor.
# The Databricks extension requires databricks.yml configuration file.
# See https://docs.databricks.com/dev-tools/bundles/index.html for documentation.

bundle:
  name: databricks-ncaa-tournament-predictor

variables:
  cluster_id:
    description: The ID of the cluster used to run this workload
    default: "0324-160743-i50ijq5g"

artifacts:
  ncaa_tournament_predictor_wheel:
    type: whl
    path: "."
    build: python -m build --wheel

# resources:
#   jobs:
#     kaggle_stats_job:
#       name: "Cleanup and Transform Kaggle Stats"
#       tasks:
#         - task_key: "run_kaggle_stats_job"
#           existing_cluster_id: ${var.cluster_id}
#           python_wheel_task:
#             package_name: "ncaa_tournament_predictor.jobs.kaggle_stats"
#             entry_point: "run_job"
#           libraries:
#             - whl: ncaa_tournament_predictor_wheel

targets:
  dev:
    mode: development
    default: true
    workspace:
      host: https://dbc-7be6322b-fcce.cloud.databricks.com

  prod:
    mode: production
    workspace:
      host: https://dbc-7be6322b-fcce.cloud.databricks.com
    permissions:
      - user_name: huebnerc@objectcomputing.com
        level: CAN_MANAGE
